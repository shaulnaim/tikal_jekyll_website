<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Solution MySQL ERROR 1045 Access denied for 'user'@'localhost' - breaks OpenStack</title>
<meta name="viewport" content="width=device-width">

<!-- syntax highlighting CSS -->
<link rel="stylesheet" href="/css/syntax.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="/tikal_jekyll_website/assets/application-e3a7b568b1f2da373eb27ade148fbdb4.css">

<!-- Custom JS -->
<script src="/tikal_jekyll_website/assets/application-21c7ed031db295629866fc50a63314d4.js"></script>

    </head>

    <body class="one-sidebar sidebar-second page-node node-type-article all-pages with-navigation with-subnav featured dir-ltr">
        <div id="header-first">
  <div class="region region-header-first">
    <div id="block-search-form" class="block block-search block-odd">

      <div class="content">
        <form action="/about" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
              <h2 class="element-invisible">Search form</h2>
              <div class="form-item form-type-textfield form-item-search-block-form">
                <label class="element-invisible" for="edit-search-block-form--2">Search </label>
                <input title="Enter the terms you wish to search for." placeholder="Search" type="search" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text">
              </div>
              <div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit"></div><input type="hidden" name="form_build_id" value="form-hCEJ23kB0sHlr4dB3Yv5-2cDcH10yNwGSUn69WjCjF4">
              <input type="hidden" name="form_id" value="search_block_form">
            </div>
      </div></form>  </div><!-- /.content -->
    </div><!-- /.block -->
    <div id="block-menu-menu-top-links" class="block block-menu block-even">

      <div class="content">
        <ul class="menu clearfix"><li class="first last leaf login"><a href="/user" title="">login</a></li>
      </ul>  </div><!-- /.content -->
    </div><!-- /.block -->
    <div id="block-menu-menu-language" class="block block-menu block-odd">

      <div class="content">
        <ul class="menu clearfix"><li class="first last leaf עברית"><a href="/hebrew" title="">עברית</a></li>
      </ul>  </div><!-- /.content -->
    </div><!-- /.block -->
  </div>
</div>

        <header id="header" role="banner">
  <div class="logo-and-region-header">
    <div class="background-logo"></div>
    <a href="/tikal_jekyll_website/" title="Home" rel="home" id="logo">
      <img src="/tikal_jekyll_website/assets/logo-79a58e27d4f8cec2e089e003b1a2d4e1.png" alt="Home">
    </a>


    <div class="region region-header">
      <section id="block-menu-menu-header-menu" class="block block-menu block-even">
        <h2 class="block-title element-invisible">Header menu</h2>

        <div class="content">
          <ul class="menu clearfix">
            
              
              <li class="leaf"><a href="/tikal_jekyll_website/about" class="">About</a></li>
            
              
              <li class="leaf"><a href="/tikal_jekyll_website/solutions" class="">Solutions</a></li>
            
              
              <li class="leaf"><a href="/tikal_jekyll_website/careers" class="">Careers</a></li>
            
              
              <li class="leaf"><a href="/tikal_jekyll_website/events" class="">Events</a></li>
            
              
              <li class="leaf"><a href="/tikal_jekyll_website/contact" class="">Contact</a></li>
            
        </ul>  </div><!-- /.content -->
      </section><!-- /.block -->
      <section id="block-menu-menu-domains" class="block block-menu block-odd">
        <h2 class="block-title element-invisible">Domains</h2>

        <div class="content">
          <ul class="menu clearfix"><li class="first leaf alm"><a href="/tikal_jekyll_website/alm" title="">ALM</a></li>
            <li class="leaf java"><a href="/tikal_jekyll_website/java" title="">JAVA</a></li>
            <li class="leaf js"><a href="/tikal_jekyll_website/js" title="">JS</a></li>
            <li class="leaf .net"><a href="/tikal_jekyll_website/net" title="">.NET</a></li>
            <li class="last leaf ror"><a href="/tikal_jekyll_website/ror" title="">RoR</a></li>
        </ul>  </div><!-- /.content -->
      </section><!-- /.block -->
    </div>
  </div><!-- /#logo-and-region-header -->
</header>

        <div class="featured-background">
  <div id="featured">
    <div class="region-title-and-featured">
      <h1 class="title" id="page-title">Solution MySQL ERROR 1045 Access denied for 'user'@'localhost' - breaks OpenStack</h1>
      <div class="region region-featured">
        <div id="block-views-author-block" class="block block-views">
          <div class="content">
            <div class="view view-author view-id-author view-display-id-block">
  <div class="view-content">
    <div class="view-content-limit">
      <div class="view-content-limit-content">
        <div class="views-row">
          <div class="views-field views-field-picture">
            <div class="field-content">
              
                <img typeof="foaf:Image" src="/tikal_jekyll_website/assets/pictures/picture-120-1361373165-f2a36cd6ea9874fb426f9cd9f37442ed.jpg" width="307" height="230" alt="">
              
            </div>  
          </div>
          <div class="views-field views-field-field-first-name">
            <div class="field-content">Ori</div>
          </div>
          <div class="views-field views-field-field-last-name">
            <div class="field-content">Tzoran</div>
          </div>
          <div class="views-field views-field-field-description">
            <div class="field-content">DevOps Senior Engineer</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

        <div class="shadow-page"></div>
        <div id="page">
          <div id="main">
            <div class="region region-content">
              <div id="block-system-main" class="block block-system">
                <div class="content">
                  <article class="node node-article published with-comments node-full">
                    <header>
  <div class="by-and-tags">
    <div class="by">
      <div class="label-by">by</div>
      <div class="name">
        <a href='/tikal_jekyll_website/alm/oritzoran'>ori.tzoran</a>
      </div>
    </div>
    <div class="tags">
      <div class="label-tags">tags:</div>
      <div class="float-tags">
        <div class="field field-name-field-tags field-type-taxonomy-term-reference field-label-hidden clearfix">
          <ul class="links">
            
              <li>
                <a href="/tikal_jekyll_website/tags/ALM">ALM</a>
              </li>
            
              <li>
                <a href="/tikal_jekyll_website/tags/MySQL-access-denied-localhost-1045">MySQL access denied localhost 1045</a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
  <time pubdate="" datetime="2012-06-25 00:00:00 +0300">
        <div class="day">25</div>
        Jun. 2012
      </time>
</header>

                    <p>I was working on an OpenStack Essex installation on 2 desktops. Shortly after I&nbsp;finished setting up the controller in an all-in-one configuration, and while working on the nova-compute node, openstack crashed. The first thing i noticed was an AppArmor popup informing <span style="font-family: 'Courier New'; ">glance-registry</span> has crashed unexpectedly. Further inspection revealed that the '<span style="font-family: 'Courier New'; ">glance-registry</span>' daemon is starting and crashing in an andless loop. All other OpenStack services were inoperational and the nova log files in  <span style="font-family: 'Courier New'; ">/var/log/upstart/nova-*</span> were huge.&nbsp;&nbsp;</p>

<p>&nbsp;</p>

<p>Greping <span style="font-size: medium; "><span style="font-family: 'Courier New'; ">/var/log/glance/registry.log</span></span><span style="font-family: Arial; ">&nbsp;</span>for 'error' i found this (on the controller):</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">2012-06-16  12:57:42 1356&nbsp;&nbsp;&nbsp; ERROR [glance.registry.db.api] Error configuring  registry database with supplied sql_connection 'mysql://glance:openstack@10.0.0.40/glance'. Got error: </span></p>

<p class="rteindent1"><span style="background-color: rgb(255, 255, 0); "><span style="font-family: 'Courier New'; ">(OperationalError) (1045, &quot;Access denied for user 'glance'@'ostk-controller1' (using password: YES)&quot;)</span></span><span style="font-family: 'Courier New'; "> None None</span></p>

<p>This suggested something is wrong with mysql. Testing access from the commandline produced the same error:</p>

<p class="rteindent1">﻿<span style="font-family: 'Courier New'; ">$ mysql -uglance -popenstack</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">ERROR 1045 (28000): Access denied for user 'glance'@'localhost' (using password: YES)</span></p>

<p>&nbsp;</p>

<p>Wondering what change prvoked this ERROR 1045, i spent hours googling around. There're plenty of ERROR 1045 descriptions, but none of them explained the problem or helped me resolve it - which is the reason for this post.&nbsp;</p>

<p>&nbsp;</p>

<h1>The Problem</h1>

<p>The logfile of mysqld,&nbsp;<strong><span style="font-size: medium; "><span style="font-family: 'Courier New'; ">/var/log/upstart/mysql.log</span></span></strong>,&nbsp; reported yet another error:&nbsp;</p>

<p class="rteindent1">﻿<span style="font-family: 'Courier New'; ">120618 14:07:31 [Note] /usr/sbin/mysqld: ready for connections.</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">Version: '5.5.24-0ubuntu0.12.04.1' &nbsp;socket: '/var/run/mysqld/mysqld.sock' &nbsp;port: 3306 &nbsp;(Ubuntu)</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">mysqld is alive</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">Checking for tables which need an upgrade, are corrupt or were</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">not closed cleanly.</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">120618 14:07:36 <span style="background-color: rgb(255, 255, 0); ">[ERROR] Cannot find or open table nova/projects</span> from</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">the internal data dictionary of InnoDB though the .frm file for the </span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; "> table exists.&nbsp;Maybe you have deleted and recreated InnoDB data</span></p>

<p class="rteindent1">&nbsp;</p>

<p>This looked like a DB corruption. Assuming healing it will solve the problem I wasted a few hours on that, in vain. Finally it turned this is a harmless alert that has nothing to do with the Access Denied issue (but is probably a nova bug).</p>

<p>&nbsp;</p>

<p>Some posts on the subject suggested that the socket permissions prevented local access. In my installation:</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; "># ll /var/run/mysqld/mysqld.sock<br />
srwxrwxrwx 1 mysql mysql 0 Jun 18 17:34 /var/run/mysqld/mysqld.sock</span></p>

<p>Which is ok.&nbsp;</p>

<p>&nbsp;</p>

<p>Back to mysql's user accounts.</p>

<p>User 'glance' was properly defined in mysql, as well as 'keystone' and 'nova'. Permissions and grants looked ok - and let's recall openstack worked (!). Connecting from any remote host (same command as above, with <span style="font-family: 'Courier New'; ">--host</span> of course) worked fine. The glance daemons&nbsp;<span style="font-family: 'Courier New'; ">glance-api</span> and <span style="font-family: 'Courier New'; ">glance-registry</span>&nbsp; weren't the only services imapcted by error 1045: <span style="font-family: 'Courier New'; ">keystone</span> and <span style="font-family: 'Courier New'; ">nova</span> had the same issue, and their respective log files (under <span style="font-family: 'Courier New'; ">/var/log/upstart</span>) had thousands of lines of the&nbsp;<span style="font-family: 'Courier New'; "><em>OperationalError</em></span> quoted above (which is due to the fact openstack's upstart jobs have a very &quot;slim&quot; logic).</p>

<p>All that suggested that there was something special about 'localhost' access to mysql.&nbsp;</p>

<p>&nbsp;</p>

<p>I use '<a href="https://help.ubuntu.com/10.04/serverguide/etckeeper.html">etckeeper</a>' to keep a log and trace of what's getting installed and modified. Comparing log timestamps and git changes, I concluded that the mess was caused by a simple modification to <span style="font-family: 'Courier New'; ">/etc/hosts</span>: the yellow line below, which is a step in the installation procedure, created the havoc:</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">﻿127.0.0.1<span class="Apple-tab-span" style="white-space: pre; ">   </span>localhost <span class="Apple-tab-span" style="white-space: pre; ">   </span></span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">127.0.1.1<span class="Apple-tab-span" style="white-space: pre; ">  </span>ostk-controller1</span></p>

<p class="rteindent1"><span style="background-color: rgb(255, 255, 0); "><strong><span style="font-family: 'Courier New'; ">10.0.0.40 <span class="Apple-tab-span" style="white-space: pre; ">  </span>ostk-controller1</span></strong></span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">10.0.0.41 <span class="Apple-tab-span" style="white-space: pre; "> </span>ostk-nova1</span></p>

<p class="rteindent1">&nbsp;</p>

<h1>A Poor Workaround</h1>

<p>Putting this yellow line in comment provided a poor workaround: it solved mysql <span style="font-family: Arial; ">ERROR 1045, but the controller must have its hostname resolved in&nbsp;</span><span style="font-family: 'Courier New'; ">/etc/hosts</span> so we're not satisfied.</p>

<p>&nbsp;</p>

<p>Further reading suggested that the error has something to do with the way mysql interprets '<strong>%</strong>' in statements such as:&nbsp;</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">GRANT USAGE ON *.* TO 'glance'@'%' IDENTIFIED BY PASSWORD('openstack');</span></p>

<p>Is it possible that '%' stands for &quot;all hosts&nbsp;<strong>except</strong>&nbsp;localhost&quot;? i read this more than once (see <em>References</em> below) but could hardly belive. Interestingly, the MySQL documentation isn't clear about this question and that's the reason, i guess, there's so much confusion and so many posts related to ERROR 1045.</p>

<p>It's worth noting that the hint to the final answer was found in a post with the title &quot;<em>Any way to make anyhost '%' include localhost</em>&quot;...</p>

<p>&nbsp;</p>

<h1>Understanding MySQL Access</h1>

<p>I've set up a separate VM to explore that, and here are my findings.</p>

<p>After installing mysql-server (latest for Precise is 5.5.24), the <strong>USER</strong> <strong>table</strong> and <strong>GRANTS</strong> get the default settings listed below (for clarity&nbsp;i've cut the right side of the output so it doesn't look exactly as on screen):</p>

<p><font face="Courier New">[14:57:22]root@mysqltests[~]<br />
# <strong>mysql -u root -p</strong><br />
. . .<br />
Server version: 5.5.24-0ubuntu0.12.04.1 (Ubuntu)<br />
. . .</font></p>

<p><font face="Courier New">mysql&gt; <strong>SELECT user,host,password FROM mysql.user;</strong><br />
+------------------+------------+-------------------------+<br />
| user &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | host &nbsp; &nbsp; &nbsp; | password &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />
+------------------+------------+-------------------------+<br />
| root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | localhost &nbsp;| *77B48D6366D102139D3719 |<br />
| root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | mysqltests | *77B48D6366D102139D3719 |<br />
| root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | 127.0.0.1 &nbsp;| *77B48D6366D102139D3719 |<br />
| root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | ::1 &nbsp; &nbsp; &nbsp; &nbsp;| *77B48D6366D102139D3719 |<br />
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| localhost &nbsp;| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| mysqltests | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
| debian-sys-maint | localhost &nbsp;| *04D30B480932109EFD77E1 |<br />
+------------------+------------+-------------------------+<br />
7 rows in set (0.00 sec)</font></p>

<p><font face="Courier New">mysql&gt; <strong>show grants;</strong><br />
+---------------------------------------------------------+<br />
| Grants for root@localhost &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
+---------------------------------------------------------+<br />
| GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' &nbsp; &nbsp; &nbsp; |</font></p>

<p><font face="Courier New">| &nbsp; &nbsp; &nbsp; IDENTIFIED BY PASSWORD '*77B48D6366D102139D3719' &nbsp;|</font></p>

<p><font face="Courier New">| &nbsp; &nbsp; &nbsp; WITH GRANT OPTION &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
| GRANT PROXY ON ''@'' TO 'root'@'localhost' WITH GRANT &nbsp; |</font></p>

<p><font face="Courier New">| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; OPTION &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />
+---------------------------------------------------------+<br />
2 rows in set (0.00 sec)</font></p>

<p>&nbsp;</p>

<h2>The <em>mysql.user</em> Table</h2>

<p>At first glance, we have 2 users (root and debian-sys-maint). That's wrong, because mysql's &quot;user&quot; is a 'user'@'host' pair association. So we have 7 in total: 'root' is defined (with the same password) for any combination of 'localhost' (the first 4 lines), then we have 2 strange lines with <strong>empty</strong> username, and finally the debian backdoor 'debian-sys-maint'.&nbsp;</p>

<p>&nbsp;</p>

<h2>The grants</h2>

<p>The 'show grants' above shows only grants for 'root'. But if we run the next staement, we see what access is provided to any user connecting from 'localhost':</p>

<p class="rteindent1"><font face="Courier New">mysql&gt; <strong>show grants for ''@'localhost';</strong><br />
+--------------------------------------+<br />
| Grants for @localhost &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|<br />
+--------------------------------------+<br />
| GRANT USAGE ON *.* TO ''@'localhost' |<br />
+--------------------------------------+<br />
</font></p>

<p>Which (indirectly) explains why running this command (as Linux user 'ori')&nbsp;doesn't require a password:&nbsp;</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">[16:16:57]ori@mysqltests[~]</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">$ <strong>mysqladmin ping</strong><br />
mysqld is alive<br type="_moz" />
</span></p>

<p>&nbsp;</p>

<p>Where this one fails:</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">[16:14:59]ori@mysqltests[~]<br />
$ <strong>mysqladmin -uroot ping</strong><br />
mysqladmin: connect to server at 'localhost' failed<br />
error: 'Access denied for user 'root'@'localhost' (using password: NO)'</span></p>

<p>&nbsp;</p>

<p>Honestly, in the beginning i thought there's some balck magic here related to the user ('ori', in this case) defined during ubuntu installation, or a special Linux group memebership, or some apparmor profile or god-knows what else.&nbsp;</p>

<p>&nbsp;</p>

<p>But there's no black magic after all, and it's all inside mysql:</p>

<p>The first thing to bear in mind is that the empty USER field '' is a wildcard, same as '%' for host.&nbsp;</p>

<p>The second is that mysql prefers the explicit match over the wildcard. For example, user 'root' can match either [1] the explicit 'root'@localhost' row or [2] the wildcard ''@'localhost' row. Since there's an explicit entry for [1] in the table mysql.user, it'll be used. This in turn requires a password so when i try to connect as 'root' without a password i'm rejected.</p>

<p>When i connect as 'ori' - which <u>isn't</u>&nbsp;even a mysql user, there's only one possible match -&nbsp;''@'localhost' and this line in the table doesn't have a password.</p>

<p>This nicely explains why the above mysqladmin command works for 'ori' and fails for 'root'.&nbsp;</p>

<p>&nbsp;</p>

<p>To sum it up: mysql controls access (or connection request) based on&nbsp;the USER table. Which user, from which host and whether a password is required.&nbsp;</p>

<p>Once connected, the GRANTS determine what the user is allowed to do. When connected as 'ori' i'm limited to &quot;USAGE&quot; (e.g. check if server is up, what version and the like of inoffensive commands).&nbsp;</p>

<p>&nbsp;</p>

<p>So far so good - but why 'glance'@'localhost' is denied access on the OpenStack controller?</p>

<p>When the static IP address of the conroller <u>wasn't</u> in <span style="font-family: 'Courier New'; ">/etc/hosts</span> (or after it was commented-out), there was only one match for 'glance' = 'glance'@'%'</p>

<p>This, in turn, comes from the connection string (in&nbsp;<span style="font-family: 'Courier New'; ">/etc/glance/glance-registry.conf</span>) which is:</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">sql_connection = mysql://glance:openstack@10.0.0.40/glance</span></p>

<p>It specifies user, password and host.</p>

<p>The line I've added for&nbsp;10.0.0.40 in /etc/hosts, told mysql&nbsp;(indirectly) that host 'ostk-controller1' is actually 'localhsot'. From now on, there are 2 possible matches for 'glance', and the one picked by mysql is ''@'localhost'. This row, however, doesn't require a password - which the&nbsp;sql_connection string provide.</p>

<p><strong>And that's why all OpenStack services couldn't connect to mysql.</strong></p>

<p>&nbsp;</p>

<p>Check against the USER table below, this was taken from ostk-controller (not the test VM):</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">mysql&gt; <strong>SELECT user,host,password FROM mysql.user;</strong><br />
+------------------+------------------+-------------------------+<br />
| user </span><span style="font-family: 'Courier New'; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 'Courier New'; ">&nbsp;</span><span style="font-family: 'Courier New'; ">| host &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | password </span><span style="font-family: 'Courier New'; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="font-family: 'Courier New'; ">&nbsp;|</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">+------------------+------------------+-------------------------+<br />
| root </span><span style="font-family: 'Courier New'; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 'Courier New'; ">&nbsp;</span><span style="font-family: 'Courier New'; ">| localhost &nbsp; &nbsp; &nbsp; &nbsp;| *3A4A03AC22526F6B591010 |</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">| root </span><span style="font-family: 'Courier New'; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 'Courier New'; ">&nbsp;</span><span style="font-family: 'Courier New'; ">| ostk-controller1 | *3A4A03AC22526F6B591010 |</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">| root </span><span style="font-family: 'Courier New'; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 'Courier New'; ">&nbsp;</span><span style="font-family: 'Courier New'; ">| 127.0.0.1 &nbsp; &nbsp; &nbsp; &nbsp;| *3A4A03AC22526F6B591010 |</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">| root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | ::1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| *3A4A03AC22526F6B591010 |<br />
| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| localhost &nbsp; &nbsp; &nbsp; &nbsp;| </span><span style="font-family: 'Courier New'; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 'Courier New'; ">&nbsp;</span><span style="font-family: 'Courier New'; ">|</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">| &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| ostk-controller1 | &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |<br />
| debian-sys-maint | localhost &nbsp; &nbsp; &nbsp; &nbsp;| *F714636CE8A7836873F7C8 |<br />
| nova &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | % &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| *3A4A03AC22526F6B591010 |<br />
| glance &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | % &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| *3A4A03AC22526F6B591010 |<br />
| keystone &nbsp; &nbsp; &nbsp; &nbsp; | % &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;| *3A4A03AC22526F6B591010 |<br />
+------------------+------------------+-------------------------+<br />
10 rows in set (0.00 sec)</span><br />
&nbsp;</p>

<h1>Solution for ERROR 1045</h1>

<p>After understanding why, let's improve on the poor workaround.</p>

<p>I'd like to credit <a href="http://lists.mysql.com/mysql/160174">an answer by Paul DuBois from 2004</a> for this solution(it's worth noting that the subject was &quot;<em>Re: Any way to make anyhost '%' include localhost</em>&quot;).</p>

<p>&nbsp;</p>

<p>Borrowing from there, here's the remedy:</p>

<p><strong>in MySQL</strong>:</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">mysql -uroot -p</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">DELETE FROM mysql.user  WHERE Host='localhost' AND User='';</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">DELETE FROM mysql.user  WHERE Host='ostk-controller1' AND User='';</span></p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">FLUSH PRIVILEGES;<br type="_moz" />
</span></p>

<p>&nbsp;</p>

<p><strong>in /etc/hosts</strong>:</p>

<p class="rteindent1"><strong>Replace</strong> the line</p>

<p class="rteindent2"><strike><span style="font-family: 'Courier New'; ">127.0.1.1</span>&nbsp; &nbsp;<span style="font-family: 'Courier New'; ">ostk-controller1</span></strike></p>

<p class="rteindent1"><strong>by this one</strong>:</p>

<p class="rteindent2" style="line-height: 21px; "><span style="font-family: 'Courier New'; ">10.0.0.40&nbsp;    ostk-controller1</span></p>

<p class="rteindent1">Quoting from <a href="http://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution">Debian's reference manual</a>:</p>

<p class="rteindent2">For a system with a permanent IP address, that permanent IP address should be used here instead of 127.0.1.1</p>

<p class="rteindent1">&nbsp;</p>

<p>finally restart networking and&nbsp;mysqld - or simply reboot.</p>

<p>&nbsp;</p>

<h1>A Second Solution</h1>

<p>Months after going through the above study, i found out why some OpenStack installations <strong>don't</strong> hit this issue; The keystone installation instructions (from Ubuntu, for Essex, <a href="http://www.ubuntu.com/content/configuring-keystone-openstack-essex">can be found here</a>) create each OSTK user in mysql <strong>twice</strong>, as in:&nbsp;</p>

<p class="rteindent1"><span style="font-family: 'Courier New'; ">mysql&gt; CREATE DATABASE keystone;<br />
<strong>CREATE USER &lsquo;keystone&rsquo;@&rsquo;localhost&rsquo;</strong> IDENTIFIED BY &lsquo;Secret_pass&rsquo;;<br />
GRANT ALL PRIVILEGES ON keystone.* TO 'keystone&rsquo;@&rsquo;localhost&rsquo;<br />
WITH GRANT OPTION;<br />
<strong>CREATE USER &lsquo;keystone&rsquo;@&rsquo;%&rsquo;</strong> IDENTIFIED BY &lsquo;Secret_pass&rsquo;;    <br />
GRANT ALL PRIVILEGES ON keystone.* TO &lsquo;keystone&rsquo;@&rsquo;%&rsquo;<br />
IDENTIFIED BY &lsquo;Secret_pass&rsquo;;    <br />
FLUSH PRIVILEGES;</span><br />
&nbsp;</p>

<p>Sure enough this will avoid Error 1045 but isn't as elegant as the 1st one.&nbsp;</p>

<h1>Additinal Conclusions</h1>

<p>Add to OpenStack install instructions: delete the default rows relative to anonymous access from localhost in the table mysql.user.&nbsp;</p>

<p>&nbsp;</p>

<h1>References</h1>

<ol>
    <li><a href="http://dev.mysql.com/doc/refman/5.5/en/account-management-sql.html">Account Management Statements in MySQL 5.5 doc</a></li>
    <li><a href="http://dba.stackexchange.com/questions/10852/mysql-error-access-denied-for-user-alocalhost-using-password-yes">Thread in stackexchange on MySQL error: Access denied for user 'a'@'localhost' (using password: YES)</a></li>
    <li><a href="http://lists.mysql.com/mysql/160174">Thread in mysql ML on Any way to make anyhost '%' include localhost&quot;</a></li>
</ol>

<p>&nbsp;</p>

                    <footer></footer>
                  </article>
                </div>
              </div>
            </div>
          </div>
        </div>
        <footer id="footer" role="contentinfo">
  <div class="region region-footer">
    <section id="block-block-2" class="block block-block block-about-tikal block-even">
      <h2 class="block-title">About Tikal</h2>

      <div class="content">
        <div>
          <div>
            For over 12 years, we have helped breakthrough companies achieve excellence and meet their goals.&nbsp;</div>
          <div>
            By doing so we've earned recognition for delivering extremely competitive and high-performance software services to clients worldwide.</div>
        </div>
        <div class="contact-title">
          Contact Inforamtion</div>
        <div class="contact-number">
          (972) 3 6488618</div>
        <div class="contact-mail">
          <a href="">info@tikalk.com</a></div>
      </div><!-- /.content -->
    </section><!-- /.block -->
    <section id="block-webform-client-block-22" class="block block-webform join-the-team block-odd">
      <h2 class="block-title">Join the Team</h2>

      <div class="content">
        <form class="webform-client-form" enctype="multipart/form-data" action="/solutions" method="post" id="webform-client-form-22" accept-charset="UTF-8"><div><div class="form-item webform-component webform-component-markup" id="webform-component-sub-header">
              <p>Let us contact you with more information</p>

            </div>
            <div class="form-item webform-component webform-component-textfield" id="webform-component-full-name">
              <input placeholder="Full Name" type="text" id="edit-submitted-full-name--2" name="submitted[full_name]" value="" size="60" maxlength="30" class="form-text required">
            </div>
            <div class="form-item webform-component webform-component-email" id="webform-component-email-address">
              <input class="email form-text form-email required" placeholder="Email Address" type="email" id="edit-submitted-email-address" name="submitted[email_address]" size="60">
            </div>
            <div class="form-item webform-component webform-component-phone" id="webform-component-phone-number">
              <input placeholder="Phone Number (optional)" type="text" id="edit-submitted-phone-number--2" name="submitted[phone_number]" value="" size="17" maxlength="15" class="form-text">
            </div>
            <div class="form-item webform-component webform-component-textfield" id="webform-component-youre-a-ninja">
              <input placeholder="You're a Ninja in... (ex: java, ruby)" type="text" id="edit-submitted-youre-a-ninja" name="submitted[youre_a_ninja]" value="" size="60" maxlength="35" class="form-text">
            </div>
            <div id="edit-submitted-click-to-add-your-cv-ajax-wrapper"><div class="form-item webform-component webform-component-managed_file" id="webform-component-click-to-add-your-cv">
                <label for="edit-submitted-click-to-add-your-cv">Click to add your CV </label>
                <div id="edit-submitted-click-to-add-your-cv" class="form-managed-file"><input type="file" id="edit-submitted-click-to-add-your-cv-upload" name="files[submitted_click_to_add_your_cv]" size="22" class="form-file"><input type="submit" id="edit-submitted-click-to-add-your-cv-upload-button" name="submitted_click_to_add_your_cv_upload_button" value="Upload" class="form-submit ajax-processed"><input type="hidden" name="submitted[click_to_add_your_cv][fid]" value="0">
                </div>
              </div>
            </div><input type="hidden" name="details[sid]" value="">
            <input type="hidden" name="details[page_num]" value="1">
            <input type="hidden" name="details[page_count]" value="1">
            <input type="hidden" name="details[finished]" value="0">
            <input type="hidden" name="form_build_id" value="form-JAmxAKz-sq2RAJmOFN-do0Cl8aTFfzPgKSYBY2LV7nk">
            <input type="hidden" name="form_id" value="webform_client_form_22">
            <div class="form-actions form-wrapper" id="edit-actions--3"><input type="submit" id="edit-submit--3" name="op" value="Send" class="form-submit"></div></div></form>  </div><!-- /.content -->
    </section><!-- /.block -->
    <section id="block-general-tikal-map-home-page" class="block block-general-tikal block-even">
      <h2 class="block-title">Find us at:</h2>

      <div class="content">
        <div id="map_canvas_footer" style="width: 240px; height: 200px; position: relative; background-color: rgb(229, 227, 223); overflow: hidden; -webkit-transform: translateZ(0px);"><div class="gm-style" style="position: absolute; left: 0px; top: 0px; overflow: hidden; width: 100%; height: 100%; z-index: 0;"><div style="position: absolute; left: 0px; top: 0px; overflow: hidden; width: 100%; height: 100%; z-index: 0;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1; width: 100%; cursor: url(http://maps.gstatic.com/mapfiles/openhand_8_8.cur) 8 8, default; -webkit-transform-origin: 43px 99px; -webkit-transform: matrix(1, 0, 0, 1, 0, 0);"><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; width: 100%; z-index: 200;"><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 101; width: 100%;"></div></div><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; width: 100%; z-index: 201;"><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 102; width: 100%;"></div><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 103; width: 100%;"><div style="position: absolute; left: 0px; top: 0px; z-index: -1;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><div style="width: 256px; height: 256px; overflow: hidden; -webkit-transform: translateZ(0px); position: absolute; left: -191px; top: -76px;"></div><div style="width: 256px; height: 256px; overflow: hidden; -webkit-transform: translateZ(0px); position: absolute; left: -191px; top: 180px;"></div><div style="width: 256px; height: 256px; overflow: hidden; -webkit-transform: translateZ(0px); position: absolute; left: 65px; top: -76px;"><canvas draggable="false" height="256" width="256" style="-webkit-user-select: none; position: absolute; left: 0px; top: 0px; height: 256px; width: 256px;"></canvas></div><div style="width: 256px; height: 256px; overflow: hidden; -webkit-transform: translateZ(0px); position: absolute; left: 65px; top: 180px;"></div></div></div></div></div><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; width: 100%; z-index: 202;"><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 104; width: 100%;"></div><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 105; width: 100%;"></div><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 106; width: 100%;"></div></div><div style="-webkit-transform: translateZ(0px); position: absolute; left: 0px; top: 0px; z-index: 100; width: 100%;"><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: -191px; top: -76px;"></div><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: -191px; top: 180px;"></div><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: 65px; top: -76px;"></div><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: 65px; top: 180px;"></div></div></div></div><div style="position: absolute; z-index: 0; left: 0px; top: 0px;"><div style="overflow: hidden; width: 240px; height: 200px;"><img src="http://maps.googleapis.com/maps/api/js/StaticMapService.GetMapImage?1m2&amp;1i20023743&amp;2i13614412&amp;2e1&amp;3u17&amp;4m2&amp;1u240&amp;2u200&amp;5m4&amp;1e0&amp;5sen-US&amp;6sus&amp;10b1&amp;token=73253" style="width: 240px; height: 200px;"></div></div><div style="position: absolute; left: 0px; top: 0px; z-index: 0;"><div style="position: absolute; left: 0px; top: 0px; z-index: 1;"><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: 65px; top: -76px; opacity: 1; transition: opacity 200ms ease-out; -webkit-transition: opacity 200ms ease-out;"><img src="http://mt0.googleapis.com/vt?lyrs=m@260000000&amp;src=apiv3&amp;hl=en-US&amp;x=78218&amp;y=53181&amp;z=17&amp;style=47,37%7Csmartmaps" draggable="false" style="width: 256px; height: 256px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px; -webkit-transform: translateZ(0px);"></div><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: -191px; top: -76px; opacity: 1; transition: opacity 200ms ease-out; -webkit-transition: opacity 200ms ease-out;"><img src="http://mt1.googleapis.com/vt?lyrs=m@260000000&amp;src=apiv3&amp;hl=en-US&amp;x=78217&amp;y=53181&amp;z=17&amp;style=47,37%7Csmartmaps" draggable="false" style="width: 256px; height: 256px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px; -webkit-transform: translateZ(0px);"></div><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: -191px; top: 180px; opacity: 1; transition: opacity 200ms ease-out; -webkit-transition: opacity 200ms ease-out;"><img src="http://mt1.googleapis.com/vt?lyrs=m@260011166&amp;src=apiv3&amp;hl=en-US&amp;x=78217&amp;y=53182&amp;z=17&amp;style=47,37%7Csmartmaps" draggable="false" style="width: 256px; height: 256px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px; -webkit-transform: translateZ(0px);"></div><div style="width: 256px; height: 256px; -webkit-transform: translateZ(0px); position: absolute; left: 65px; top: 180px; opacity: 1; transition: opacity 200ms ease-out; -webkit-transition: opacity 200ms ease-out;"><img src="http://mt0.googleapis.com/vt?lyrs=m@260005185&amp;src=apiv3&amp;hl=en-US&amp;x=78218&amp;y=53182&amp;z=17&amp;style=47,37%7Csmartmaps" draggable="false" style="width: 256px; height: 256px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px; -webkit-transform: translateZ(0px);"></div></div></div></div></div><div style="margin-left: 5px; margin-right: 5px; z-index: 1000000; position: absolute; left: 0px; bottom: 0px;"><a target="_blank" href="http://maps.google.com/maps?ll=32.106572,34.832745&amp;z=17&amp;t=m&amp;hl=en-US&amp;gl=US&amp;mapclient=apiv3" title="Click to see this area on Google Maps" style="position: static; overflow: visible; float: none; display: inline;"><div style="width: 62px; height: 26px; cursor: pointer;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/google_white2.png" draggable="false" style="position: absolute; left: 0px; top: 0px; width: 62px; height: 26px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div></a></div><div class="gmnoprint" style="z-index: 1000001; position: absolute; right: 70px; bottom: 0px; width: 54px;"><div draggable="false" class="gm-style-cc" style="-webkit-user-select: none;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right;"><a style="color: rgb(68, 68, 68); text-decoration: none; cursor: pointer;">Map Data</a><span style="display: none;">Map data ©2014 Google, Mapa GISrael</span></div></div></div><div style="background-color: white; padding: 15px 21px; border: 1px solid rgb(171, 171, 171); font-family: Roboto, Arial, sans-serif; color: rgb(34, 34, 34); -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 16px; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 16px; z-index: 10000002; display: none; width: 186px; height: 148px; position: absolute; left: 5px; top: 10px;"><div style="padding: 0px 0px 10px; font-size: 16px;">Map Data</div><div style="font-size: 13px;">Map data ©2014 Google, Mapa GISrael</div><div style="width: 13px; height: 13px; overflow: hidden; position: absolute; opacity: 0.7; right: 12px; top: 12px; z-index: 10000; cursor: pointer;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/mapcnt3.png" draggable="false" style="position: absolute; left: -2px; top: -336px; width: 59px; height: 492px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div></div><div class="gmnoscreen" style="position: absolute; right: 0px; bottom: 0px;"><div style="font-family: Roboto, Arial, sans-serif; font-size: 11px; color: rgb(68, 68, 68); direction: ltr; text-align: right; background-color: rgb(245, 245, 245);">Map data ©2014 Google, Mapa GISrael</div></div><div class="gmnoprint gm-style-cc" draggable="false" style="z-index: 1000001; position: absolute; -webkit-user-select: none; right: 0px; bottom: 0px;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right;"><a href="http://www.google.com/intl/en-US_US/help/terms_maps.html" target="_blank" style="text-decoration: none; cursor: pointer; color: rgb(68, 68, 68);">Terms of Use</a></div></div><div draggable="false" class="gm-style-cc" style="-webkit-user-select: none; position: absolute; right: 0px; bottom: 0px;"><div style="opacity: 0.7; width: 100%; height: 100%; position: absolute;"><div style="width: 1px;"></div><div style="background-color: rgb(245, 245, 245); width: auto; height: 100%; margin-left: 1px;"></div></div><div style="position: relative; padding-right: 6px; padding-left: 6px; font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); white-space: nowrap; direction: ltr; text-align: right; display: none;"><a target="_new" title="Report errors in the road map or imagery to Google" href="http://maps.google.com/maps?ll=32.106572,34.832745&amp;z=17&amp;t=m&amp;hl=en-US&amp;gl=US&amp;mapclient=apiv3&amp;skstate=action:mps_dialog$apiref:1&amp;output=classic" style="font-family: Roboto, Arial, sans-serif; font-size: 10px; color: rgb(68, 68, 68); text-decoration: none; position: relative;">Report a map error</a></div></div><div class="gmnoprint" draggable="false" controlwidth="32" controlheight="84" style="margin: 5px; -webkit-user-select: none; position: absolute; left: 0px; top: 0px;"><div controlwidth="32" controlheight="40" style="cursor: url(http://maps.gstatic.com/mapfiles/openhand_8_8.cur) 8 8, default; position: absolute; left: 0px; top: 0px;"><div style="width: 32px; height: 40px; overflow: hidden; position: absolute; left: 0px; top: 0px;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout2.png" draggable="false" style="position: absolute; left: -9px; top: -102px; width: 1028px; height: 214px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div><div style="width: 32px; height: 40px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout2.png" draggable="false" style="position: absolute; left: -107px; top: -102px; width: 1028px; height: 214px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div><div style="width: 32px; height: 40px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout2.png" draggable="false" style="position: absolute; left: -58px; top: -102px; width: 1028px; height: 214px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div><div style="width: 32px; height: 40px; overflow: hidden; position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/cb_scout2.png" draggable="false" style="position: absolute; left: -205px; top: -102px; width: 1028px; height: 214px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div></div><div class="gmnoprint" controlwidth="0" controlheight="0" style="opacity: 0.6; display: none; position: absolute;"><div title="Rotate map 90 degrees" style="width: 22px; height: 22px; overflow: hidden; position: absolute; cursor: pointer;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/mapcnt3.png" draggable="false" style="position: absolute; left: -38px; top: -360px; width: 59px; height: 492px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div></div><div class="gmnoprint" controlwidth="20" controlheight="39" style="position: absolute; left: 6px; top: 45px;"><div style="width: 20px; height: 39px; overflow: hidden; position: absolute;"><img src="http://maps.gstatic.com/mapfiles/api-3/images/mapcnt3.png" draggable="false" style="position: absolute; left: -39px; top: -401px; width: 59px; height: 492px; -webkit-user-select: none; border: 0px; padding: 0px; margin: 0px;"></div><div title="Zoom in" style="position: absolute; left: 0px; top: 2px; width: 20px; height: 17px; cursor: pointer;"></div><div title="Zoom out" style="position: absolute; left: 0px; top: 19px; width: 20px; height: 17px; cursor: pointer;"></div></div></div></div></div>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script><script src="http://maps.gstatic.com/intl/en_us/mapfiles/api-3/16/9/main.js" type="text/javascript"></script>
        <script type="text/javascript">
            var latlng = new google.maps.LatLng(32.1065469,34.83523969999999);
            var settings = {
            zoom: 15,
                  center: latlng,
                  mapTypeControl: false,
                  mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU},
                  navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
                  mapTypeId: google.maps.MapTypeId.ROADMAP};
            var map = new google.maps.Map(document.getElementById("map_canvas_footer"), settings);      
            var companyImage = new google.maps.MarkerImage("sites/all/themes/sasson/tikal/images/logo-map.png",
                new google.maps.Size(100,50),
                new google.maps.Point(0,0),
                new google.maps.Point(50,50)
                );
            var companyShadow = new google.maps.MarkerImage("images/logo_shadow.png",
                new google.maps.Size(130,50),
                new google.maps.Point(0,0),
                new google.maps.Point(65, 50));
            var companyPos = new google.maps.LatLng(32.1065469,34.83523969999999);
            var companyMarker = new google.maps.Marker({
            position: companyPos,
            map: map,
            icon: companyImage,
            shadow: companyShadow,
            title:"",
            zIndex: 3});
      </script>  </div><!-- /.content -->
    </section><!-- /.block -->
    <div id="block-block-3" class="block block-block find-us-at block-odd">

      <div class="content">
        <div class="address">
          Habarzel 4 st, 1st Floor&nbsp;<br>
          Tel Aviv 69710<br>
          Israel</div>  </div><!-- /.content -->
    </div><!-- /.block -->
  </div>
</footer>

        <footer id="footer-second" role="contentinfo">
  <div class="region region-footer-second">
    <section id="block-views-popular-articles-block" class="block block-views block-even">
      <h2 class="block-title">Popular Articles</h2>

      <div class="content">
        <div class="view view-popular-articles view-id-popular_articles view-display-id-block view-dom-id-796319b1b70c397287cdccd16eebbb82">

          <div class="view-content">
            <div class="view-content-limit">
              <div class="view-content-limit-content">
                <div class="views-row views-row-1 views-row-odd views-row-first">

                  <div class="views-field views-field-title">        <span class="field-content"><a href="/java/location-auto-complete-and-lookup">Location Auto complete and lookup</a></span>  </div>  </div>
                <div class="views-row views-row-2 views-row-even">

                  <div class="views-field views-field-title">        <span class="field-content"><a href="/js/present-and-future-typescript">Present and future of TypeScript</a></span>  </div>  </div>
                <div class="views-row views-row-3 views-row-odd views-row-last">

                  <div class="views-field views-field-title">        <span class="field-content"><a href="/ror/building-gogobot-social-graph">building the gogobot social graph</a></span>  </div>  </div>
              </div>
            </div>
          </div>

      </div>  </div><!-- /.content -->
    </section><!-- /.block -->
    <section id="block-menu-menu-fields" class="block block-menu block-odd">
      <h2 class="block-title">Domains</h2>

      <div class="content">
        <ul class="menu clearfix"><li class="first leaf application lifecycle management"><a href="/alm" title="">Application Lifecycle Management</a></li>
          <li class="leaf java"><a href="/java" title="">Java</a></li>
          <li class="leaf javascript"><a href="/js" title="">JavaScript</a></li>
          <li class="leaf .net"><a href="/net" title="">.NET</a></li>
          <li class="last leaf ruby on rails"><a href="/ror" title="">Ruby on Rails</a></li>
      </ul>  </div><!-- /.content -->
    </section><!-- /.block -->
    <section id="block-menu-menu-site-map" class="block block-menu block-even">
      <h2 class="block-title">Site Map</h2>

      <div class="content">
        <ul class="menu clearfix"><li class="first leaf about us"><a href="/about" title="">About Us</a></li>
          <li class="leaf active-trail solutions"><a href="/solutions" title="" class="active-trail active">Solutions</a></li>
          <li class="leaf careers"><a href="/careers" title="">Careers</a></li>
          <li class="last leaf contact"><a href="/contact" title="">Contact</a></li>
      </ul>  </div><!-- /.content -->
    </section><!-- /.block -->
    <div id="block-block-1" class="block block-block all-rights-reserved block-odd">

      <div class="content">
        <p>© 2013 All Rights Reserved. Tikal</p>
      </div><!-- /.content -->
    </div><!-- /.block -->
    <div id="block-menu-menu-external-links" class="block block-menu block-even">

      <div class="content">
        <ul class="menu clearfix"><li class="first leaf facebook"><a href="http://www.facebook.com/TikalKnowledge" title="" target="_blank">Facebook</a></li>
          <li class="leaf twitter"><a href="https://twitter.com/TikalK" title="" target="_blank">Twitter</a></li>
          <li class="leaf in"><a href="http://www.linkedin.com/company/tikal-knowledge" title="" target="_blank">in</a></li>
          <li class="last leaf rss"><a href="/rss-latest-articles" title="Latest Articles">RSS</a></li>
      </ul>  </div><!-- /.content -->
    </div><!-- /.block -->
  </div>
</footer>

    </body>
</html>
